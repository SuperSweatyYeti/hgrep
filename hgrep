
#!/bin/bash


while getopts :lie: opt; do
	case $opt in
		l) line1="&& i=1"; line2="\"\\033[31m\"i\":\"\"\\033[0m\","; line3=" \$0 ; i++"; ;;
		i) set="IGNORECASE=1"; ;;
		e) oe=$OPTARG;;
	esac
done





awk 'FNR<=1{print; next} BEGIN{'"$set"' '"$line1"' } gsub(/('"$oe"')/,  "\033[31m&\033[0m"){ print '"$line2"' '"$line3"' }'



